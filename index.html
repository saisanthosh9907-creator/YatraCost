<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>YatraCost Pro ‚Äî Trip Cost Calculator</title>

<!-- Icons + Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- Leaflet Map -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

<style>
/* ========== PART 2 (CSS) WILL BE INSERTED HERE NEXT ========== */
  /* ============================================================
   YATRACOST PRO - ORIGINAL UI (IMPROVED)
   ============================================================ */

:root {
  --bg1: #0f172a;
  --bg2: #1e293b;
  --card: #0b1220ee;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --accent: #22c55e;
  --accent2: #0ea5e9;
  --shadow: 0 10px 30px rgba(2,6,23,0.4);
  --radius: 16px;
}

/* LIGHT MODE */
body.light {
  --bg1: #f4f0ff;
  --bg2: #ffffff;
  --card: #ffffff;
  --text: #0b1220;
  --muted: #6b7280;
  --accent: #7c3aed;
  --accent2: #0284c7;
}

/* ============================================================
   GLOBAL
   ============================================================ */
body {
  margin: 0;
  font-family: "Inter", system-ui;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 20% -10%, #0ea5e933 0, transparent 60%),
    radial-gradient(1200px 800px at 120% 110%, #22c55e33 0, transparent 60%),
    linear-gradient(160deg, var(--bg1), var(--bg2));
  transition: 0.3s ease;
}

.card {
  background: var(--card);
  border: 1px solid #0b122055;
  padding: 20px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  margin-bottom: 18px;
}

h2, h3 {
  margin-top: 0;
}

/* ============================================================
   TOPBAR
   ============================================================ */
.topbar {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--card);
  padding: 14px 20px;
  border-bottom: 1px solid #334155aa;
  position: sticky;
  top: 0;
  z-index: 999;
  box-shadow: var(--shadow);
}

.menu-btn {
  background: #33415588;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  color: var(--text);
  cursor: pointer;
}

.themeBtn {
  padding: 10px 14px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  background: var(--accent2);
  color: #fff;
  font-weight: 700;
}

.flagBtn {
  border-radius: 6px;
  border: 1px solid #334155;
  width: 22px;
  height: 16px;
}

/* ============================================================
   INPUTS
   ============================================================ */
input, select, button {
  font-family: inherit;
}

input, select {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  background: #0b1220;
  color: var(--text);
  border: 1px solid #334155aa;
  margin-bottom: 12px;
}

body.light input,
body.light select {
  background: #ffffff;
  color: #111;
}

input:focus, select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 4px #22c55e44;
}

/* ============================================================
   BUTTONS
   ============================================================ */
.route-btn,
.calc-btn {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  color: #08121a;
}

.route-btn {
  background: linear-gradient(135deg, var(--accent2), #0284c7);
}

.calc-btn {
  background: linear-gradient(135deg, var(--accent), #16a34a);
}

/* Special button for Hotels */
#findHotelsBtn {
  background: linear-gradient(135deg, #10b981, #059669);
  color: #fff;
  font-weight: 700;
}

/* ============================================================
   LAYOUT GRID
   ============================================================ */
.container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
  padding: 20px;
  max-width: 1200px;
  margin: auto;
}

@media (max-width: 900px) {
  .container {
    grid-template-columns: 1fr;
  }
}

/* ============================================================
   WEATHER
   ============================================================ */
.weatherBox {
  background: var(--card);
  padding: 18px;
  border-radius: var(--radius);
  border: 1px solid #0b122055;
  box-shadow: var(--shadow);
}

/* ============================================================
   MAP
   ============================================================ */
#map {
  height: 420px;
  border-radius: var(--radius);
  margin: 20px;
  border: 1px solid #0b122055;
  box-shadow: var(--shadow);
}

/* ============================================================
   MODALS
   ============================================================ */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

.modal-content {
  background: var(--card);
  padding: 22px;
  border-radius: var(--radius);
  width: 90%;
  max-width: 420px;
  border: 1px solid #334155aa;
  box-shadow: var(--shadow);
}

.save-btn {
  padding: 12px;
  border-radius: 10px;
  background: var(--accent);
  color: #0f172a;
  font-weight: 700;
  border: none;
  width: 100%;
  cursor: pointer;
  margin-top: 12px;
}

.close-btn {
  padding: 12px;
  border-radius: 10px;
  background: #334155;
  color: #fff;
  font-weight: 700;
  border: none;
  width: 100%;
  cursor: pointer;
  margin-top: 12px;
}

/* ============================================================
   LANGUAGE GRID
   ============================================================ */
.lang-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.langBtn {
  background: #334155aa;
  padding: 10px;
  border-radius: 10px;
  border: none;
  color: var(--text);
  text-align: left;
  cursor: pointer;
}

/* ============================================================
   RESULT BOX
   ============================================================ */
.result-card {
  background: var(--card);
  padding: 20px;
  border-radius: var(--radius);
  border: 1px solid #334155aa;
  box-shadow: var(--shadow);
}

#resultBox {
  line-height: 1.8;
  margin-top: 10px;
}

</style>
</head>

<body>

<!-- ========================================================= -->
<!--                       TOP BAR                             -->
<!-- ========================================================= -->

<header class="topbar">

  <button class="menu-btn" id="menuBtn">‚ò∞</button>

  <h2 style="margin:0;font-size:20px;">YatraCost Pro</h2>

  <!-- LANGUAGE FLAGS -->
  <div style="display:flex;gap:8px;margin-left:auto;">
    <img src="https://flagcdn.com/w20/in.png" class="flagBtn" data-lang="en" style="cursor:pointer;">
    <img src="https://flagcdn.com/w20/in.png" class="flagBtn" data-lang="hi" style="cursor:pointer;">
    <img src="https://flagcdn.com/w20/in.png" class="flagBtn" data-lang="te" style="cursor:pointer;">
  </div>

  <!-- Currency Selector -->
  <select id="currencySelect" style="margin-left:10px;padding:6px;border-radius:6px;">
    <option value="INR">INR ‚Çπ</option>
    <option value="USD">USD $</option>
    <option value="EUR">EUR ‚Ç¨</option>
    <option value="AED">AED ÿØ.ÿ•</option>
    <option value="GBP">GBP ¬£</option>
  </select>

  <!-- Theme Button -->
  <button id="themeToggle" class="themeBtn">üåì</button>

  <!-- Login Button -->
  <button style="margin-left:8px;" class="menu-btn" onclick="loginModal.style.display='flex'">üîê</button>

  <div id="helloUser" class="helloUser">Hi, Traveller üëã</div>
</header>


<!-- ========================================================= -->
<!--                     MAIN PAGE GRID                        -->
<!-- ========================================================= -->
<div class="container">

  <!-- ===================== LEFT CARD ===================== -->
  <div class="card">

    <h2 style="margin-top:0;">Trip Details</h2>

    <!-- FROM -->
    <label id="lblFrom">From</label>
    <input id="from" list="cities" placeholder="e.g., Hyderabad" />

    <!-- VIA -->
    <label id="lblVia">Via (optional)</label>
    <input id="via" list="cities" placeholder="e.g., Anantapur" />

    <!-- TO -->
    <label id="lblTo">To</label>
    <input id="to" list="cities" placeholder="e.g., Bengaluru" />

    <!-- ROUTE BUTTON -->
    <button class="route-btn" id="routeBtn">Find Route</button>

    <!-- DISTANCE -->
    <label id="lblDistance">Distance (km)</label>
    <input id="distance" type="number" placeholder="Auto-filled after route" />

    <!-- MILEAGE -->
    <label id="lblMileage">Mileage (km/L)</label>
    <input id="mileage" type="number" value="18" />

    <!-- FUEL -->
    <label id="lblFuel">Fuel Price (‚Çπ/L)</label>
    <input id="fuel" type="number" value="110" />

    <!-- TOLL -->
    <label id="lblToll">Toll (‚Çπ/km)</label>
    <input id="toll" type="number" value="1.5" />

    <!-- TRAVELLERS -->
    <label id="lblTravellers">Travellers</label>
    <input id="travellers" type="number" value="2" />

    <!-- STAY SECTION -->
    <h3 style="margin-top:20px;">Stay Details</h3>

    <label id="lblHotelRate">Hotel Rate (‚Çπ/room/night)</label>
    <input id="hotelRate" type="number" value="1500" />

    <label id="lblNights">Nights</label>
    <input id="nights" type="number" value="1" />

    <label id="lblPplRoom">People per Room</label>
    <input id="pplRoom" type="number" value="2" />

    <!-- NEW: BOOKING LINK -->
    <label>Hotel Booking Link (optional)</label>
    <input id="hotelLink" placeholder="Paste Booking.com / Goibibo / MMT link" />

    <!-- NEW: FIND HOTELS BUTTON -->
    <button class="route-btn" id="findHotelsBtn" style="margin-top:8px;background:#10b981;">
      üîç Find Hotels Near Destination
    </button>

    <!-- FOOD -->
    <label id="lblFood" style="margin-top:20px;">Food (‚Çπ per person/day)</label>
    <input id="food" type="number" value="300" />

    <!-- EXTRAS -->
    <label id="lblExtras">Extras</label>
    <input id="extras" type="number" value="0" />

    <!-- CALCULATE BUTTON -->
    <button class="calc-btn" id="calcBtn">Calculate</button>

  </div>


  <!-- ===================== RIGHT SIDE ===================== -->
  <div>

    <!-- WEATHER BOX -->
    <div class="weatherBox">
      <h3 id="weatherTitle">Weather</h3>
      <div id="weatherNow">No data yet.</div>
    </div>

    <!-- RESULT BOX -->
    <div class="card result-card">
      <h2 id="resultTitle">Trip Summary</h2>
      <div id="resultBox">Enter details to calculate...</div>
    </div>

  </div>

</div>


<!-- ========================================================= -->
<!--                        MAP SECTION                         -->
<!-- ========================================================= -->
<div id="map"></div>


<!-- ========================================================= -->
<!--                     LOGIN POPUP                            -->
<!-- ========================================================= -->
<div class="modal" id="loginModal">
  <div class="modal-content">

    <h2 id="loginTitle">Login</h2>

    <label id="lblLoginName">Name</label>
    <input id="loginName" />

    <label id="lblLoginEmail">Email</label>
    <input id="loginEmail" type="email" />

    <label id="lblLoginPhone">Phone</label>
    <input id="loginPhone" type="tel" />

    <button class="save-btn" id="saveLogin">Save</button>
    <button class="close-btn" id="closeLogin">Close</button>

  </div>
</div>


<!-- ========================================================= -->
<!--                     SETTINGS POPUP                         -->
<!-- ========================================================= -->
<div class="modal" id="settingsModal">
  <div class="modal-content">

    <h2 id="settingsTitle">Settings</h2>

    <h3 id="languageTitle">üåê Select Language</h3>

    <div class="lang-grid">
      <button class="langBtn" data-lang="en">English</button>
      <button class="langBtn" data-lang="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
      <button class="langBtn" data-lang="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
      <button class="langBtn" data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
      <button class="langBtn" data-lang="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>
      <button class="langBtn" data-lang="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
      <button class="langBtn" data-lang="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</button>
      <button class="langBtn" data-lang="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</button>
      <button class="langBtn" data-lang="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
      <button class="langBtn" data-lang="ur">ÿßÿ±ÿØŸà</button>
    </div>

    <h3 id="currencyTitle">üí± Currency</h3>
    <select id="currencyModalSelect">
      <option value="INR">INR ‚Çπ</option>
      <option value="USD">USD $</option>
      <option value="EUR">EUR ‚Ç¨</option>
      <option value="AED">AED ÿØ.ÿ•</option>
      <option value="GBP">GBP ¬£</option>
    </select>

    <button class="close-btn" id="closeSettings">Close</button>

  </div>
</div>


<!-- ========================================================= -->
<!--                  DATALIST FOR CITIES                       -->
<!-- ========================================================= -->
<datalist id="cities">
  <option>Hyderabad</option>
  <option>Bengaluru</option>
  <option>Chennai</option>
  <option>Mumbai</option>
  <option>Delhi</option>
  <option>Pune</option>
  <option>Kolkata</option>
  <option>Goa</option>
  <option>Vijayawada</option>
  <option>Tirupati</option>
</datalist>


<!-- ========================================================= -->
<!--                JAVASCRIPT SECTION START                    -->
<!-- ========================================================= -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
/* ===== PART 3 & PART 4 SCRIPTS WILL BE INSERTED BELOW ===== */
  /* ============================================================
   PART 3 ‚Äî CORE ENGINE (Routing, Weather, Costing, Theme, Login)
   ============================================================ */

/* ---------- ELEMENT SHORTCUTS ---------- */
const $ = id => document.getElementById(id);

/* ---------- THEME SYSTEM ---------- */
function applyTheme() {
  if (localStorage.getItem("ycTheme") === "light") {
    document.body.classList.add("light");
  } else {
    document.body.classList.remove("light");
  }
}
applyTheme();

themeToggle.onclick = () => {
  let t = localStorage.getItem("ycTheme") === "light" ? "dark" : "light";
  localStorage.setItem("ycTheme", t);
  applyTheme();
};

/* ---------- LOGIN SYSTEM ---------- */
saveLogin.onclick = () => {
  const name = loginName.value.trim();
  const email = loginEmail.value.trim();
  const phone = loginPhone.value.trim();

  if (name.length < 2) { alert("Enter valid name"); return; }
  if (!email.includes("@")) { alert("Enter valid email"); return; }
  if (phone.length < 8) { alert("Enter valid phone"); return; }

  localStorage.setItem("ycName", name);
  localStorage.setItem("ycEmail", email);
  localStorage.setItem("ycPhone", phone);

  helloUser.innerText = `Hi, ${name} üëã`;
  loginModal.style.display = "none";
};

if (localStorage.getItem("ycName")) {
  helloUser.innerText = `Hi, ${localStorage.getItem("ycName")} üëã`;
}

closeLogin.onclick = () => loginModal.style.display = "none";

/* ---------- SETTINGS POPUP ---------- */
menuBtn.onclick = () => settingsModal.style.display = "flex";
closeSettings.onclick = () => settingsModal.style.display = "none";

/* ============================================================
   MAP SETUP
   ============================================================ */
const map = L.map("map").setView([20.5937, 78.9629], 5);

L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
  maxZoom: 19
}).addTo(map);

let markerFrom = null, markerVia = null, markerTo = null, routeLayer = null;

function addMarker(type, lat, lon) {
  const color = type === "from" ? "#22c55e" : type === "via" ? "#f59e0b" : "#0ea5e9";

  const icon = L.divIcon({
    className: "",
    html: `<div style="background:${color};width:16px;height:16px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 8px rgba(0,0,0,0.4)"></div>`
  });

  if (type === "from") {
    if (markerFrom) map.removeLayer(markerFrom);
    markerFrom = L.marker([lat, lon], { icon }).addTo(map);
  }
  if (type === "via") {
    if (markerVia) map.removeLayer(markerVia);
    markerVia = L.marker([lat, lon], { icon }).addTo(map);
  }
  if (type === "to") {
    if (markerTo) map.removeLayer(markerTo);
    markerTo = L.marker([lat, lon], { icon }).addTo(map);
  }
}

/* ---------- GEOCODING ---------- */
async function geo(place) {
  const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(place)}`;
  const r = await fetch(url);
  const d = await r.json();
  if (!d[0]) throw new Error("Place not found: " + place);
  return { lat: +d[0].lat, lon: +d[0].lon };
}

/* ---------- ROUTING ---------- */
async function getRoute() {
  const A = from.value.trim();
  const B = to.value.trim();
  const C = via.value.trim();

  if (!A || !B) { alert("Enter From and To"); return; }

  const pA = await geo(A);
  const pB = await geo(B);

  let pts = [pA];
  addMarker("from", pA.lat, pA.lon);

  if (C) {
    const pC = await geo(C);
    pts.push(pC);
    addMarker("via", pC.lat, pC.lon);
  }

  pts.push(pB);
  addMarker("to", pB.lat, pB.lon);

  const coords = pts.map(p => `${p.lon},${p.lat}`).join(";");

  const r = await fetch(
    `https://router.project-osrm.org/route/v1/driving/${coords}?overview=full&geometries=geojson`
  );
  const data = await r.json();

  const route = data.routes[0];
  if (!route) throw new Error("Routing failed");

  distance.value = (route.distance / 1000).toFixed(1);

  if (routeLayer) map.removeLayer(routeLayer);
  routeLayer = L.geoJSON(route.geometry, { color: "#0ea5e9", weight: 5 }).addTo(map);
  map.fitBounds(routeLayer.getBounds());

  getWeather(pB.lat, pB.lon);
}

routeBtn.onclick = () => {
  getRoute().catch(err => alert(err.message));
};

/* ============================================================
   WEATHER
   ============================================================ */
async function getWeather(lat, lon) {
  const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,windspeed_10m&timezone=auto`;
  const r = await fetch(url);
  const d = await r.json();

  weatherNow.innerHTML = `
    Temperature: ${d.current.temperature_2m}¬∞C<br>
    Wind: ${d.current.windspeed_10m} km/h
  `;
}

/* ============================================================
   COST CALCULATION
   ============================================================ */
function calculate() {
  let dist = +distance.value || 0;
  let mileageV = +mileage.value || 1;
  let fuelP = +fuel.value || 0;
  let tollP = +toll.value || 0;
  let foodP = +food.value || 0;
  let extra = +extras.value || 0;
  let trav = +travellers.value || 1;
  let nightsV = +nights.value || 0;
  let rateV = +hotelRate.value || 0;
  let pplRoomV = +pplRoom.value || 2;

  let rooms = Math.ceil(trav / pplRoomV);

  let fuelNeeded = dist / mileageV;
  let fuelCost = fuelNeeded * fuelP;
  let tollCost = dist * tollP;
  let stayCost = rooms * nightsV * rateV;
  let foodCost = trav * nightsV * foodP;

  let total = fuelCost + tollCost + stayCost + foodCost + extra;

  resultBox.innerHTML = `
    <b>Distance:</b> ${dist} km<br>
    <b>Fuel Needed:</b> ${fuelNeeded.toFixed(1)} L<br>
    <b>Fuel Cost:</b> ‚Çπ${fuelCost.toFixed(0)}<br>
    <b>Toll Cost:</b> ‚Çπ${tollCost.toFixed(0)}<br>
    <b>Rooms Needed:</b> ${rooms}<br>
    <b>Hotel Cost:</b> ‚Çπ${stayCost}<br>
    <b>Food Cost:</b> ‚Çπ${foodCost}<br>
    <b>Extras:</b> ‚Çπ${extra}<br>
    <hr>
    <b>Grand Total:</b> ‚Çπ${total.toFixed(0)}<br>
    <b>Per Person:</b> ‚Çπ${(total / trav).toFixed(0)}
  `;
}

calcBtn.onclick = calculate;

/* ============================================================
   HOTEL SEARCH BUTTON
   ============================================================ */
findHotelsBtn.onclick = () => {
  let dest = to.value.trim();
  if (!dest) { alert("Enter destination first"); return; }
  window.open(`https://www.google.com/maps/search/hotels+near+${encodeURIComponent(dest)}`);
};

/* ============================================================
   CURRENCY FROM TOP-RIGHT
   ============================================================ */
document.getElementById("currencySelect").onchange = (e) => {
  localStorage.setItem("ycCurrency", e.target.value);
};

document.getElementById("currencyModalSelect").onchange = (e) => {
  localStorage.setItem("ycCurrency", e.target.value);
};

const savedCurrency = localStorage.getItem("ycCurrency");
if (savedCurrency) {
  currencySelect.value = savedCurrency;
  currencyModalSelect.value = savedCurrency;
}
/* ============================================================
   PART 4 ‚Äî LANGUAGE SYSTEM (10 Languages)
   ============================================================ */

const translations = {
  en: {
    from: "From",
    via: "Via (optional)",
    to: "To",
    distance: "Distance (km)",
    mileage: "Mileage (km/L)",
    fuel: "Fuel Price (‚Çπ/L)",
    toll: "Toll (‚Çπ/km)",
    food: "Food (‚Çπ per person/day)",
    extras: "Extras",
    travellers: "Travellers",
    hotelRate: "Hotel Rate (‚Çπ/room/night)",
    nights: "Nights",
    pplRoom: "People per Room",
    calc: "Calculate",
    route: "Find Route",
    weatherTitle: "Weather",
    resultTitle: "Trip Summary",
    loginTitle: "Login",
  },
  hi: {
    from: "‡§∏‡•á",
    via: "‡§∞‡§æ‡§∏‡•ç‡§§‡•á ‡§Æ‡•á‡§Ç (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)",
    to: "‡§§‡§ï",
    distance: "‡§¶‡•Ç‡§∞‡•Ä (‡§ï‡§ø‡§Æ‡•Ä)",
    mileage: "‡§Æ‡§æ‡§á‡§≤‡•á‡§ú (‡§ï‡§ø‡§Æ‡•Ä/‡§≤‡•Ä)",
    fuel: "‡§à‡§Ç‡§ß‡§® ‡§Æ‡•Ç‡§≤‡•ç‡§Ø (‚Çπ/‡§≤‡•Ä)",
    toll: "‡§ü‡•ã‡§≤ (‚Çπ/‡§ï‡§ø‡§Æ‡•Ä)",
    food: "‡§≠‡•ã‡§ú‡§® (‚Çπ ‡§™‡•ç‡§∞‡§§‡§ø ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø/‡§¶‡§ø‡§®)",
    extras: "‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§",
    travellers: "‡§Ø‡§æ‡§§‡•ç‡§∞‡•Ä",
    hotelRate: "‡§π‡•ã‡§ü‡§≤ ‡§¶‡§∞ (‚Çπ/‡§ï‡§Æ‡§∞‡§æ/‡§∞‡§æ‡§§)",
    nights: "‡§∞‡§æ‡§§‡•á‡§Ç",
    pplRoom: "‡§ï‡§Æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§≤‡•ã‡§ó",
    calc: "‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç",
    route: "‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§ñ‡•ã‡§ú‡•á‡§Ç",
    weatherTitle: "‡§Æ‡•å‡§∏‡§Æ",
    resultTitle: "‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
    loginTitle: "‡§≤‡•â‡§ó‡§ø‡§®",
  },
  te: {
    from: "‡∞®‡±Å‡∞Ç‡∞°‡∞ø",
    via: "‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ (‡∞ê‡∞ö‡±ç‡∞ö‡∞ø‡∞ï‡∞Ç)",
    to: "‡∞µ‡∞∞‡∞ï‡±Å",
    distance: "‡∞¶‡±Ç‡∞∞‡∞Ç (‡∞ï‡∞ø‡∞Æ‡±Ä)",
    mileage: "‡∞Æ‡±à‡∞≤‡±á‡∞ú‡±ç (‡∞ï‡∞ø‡∞Æ‡±Ä/‡∞≤‡±Ä)",
    fuel: "‡∞á‡∞Ç‡∞ß‡∞® ‡∞ß‡∞∞ (‚Çπ/‡∞≤‡±Ä)",
    toll: "‡∞ü‡±ã‡∞≤‡±ç (‚Çπ/‡∞ï‡∞ø‡∞Æ‡±Ä)",
    food: "‡∞Ü‡∞π‡∞æ‡∞∞‡∞Ç (‚Çπ ‡∞µ‡±ç‡∞Ø‡∞ï‡±ç‡∞§‡∞ø/‡∞∞‡±ã‡∞ú‡±Å)",
    extras: "‡∞Ö‡∞¶‡∞®‡∞™‡±Å ‡∞ñ‡∞∞‡±ç‡∞ö‡±Å‡∞≤‡±Å",
    travellers: "‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞ø‡∞ï‡±Å‡∞≤‡±Å",
    hotelRate: "‡∞π‡±ã‡∞ü‡∞≤‡±ç ‡∞∞‡±á‡∞ü‡±Å (‚Çπ ‡∞ó‡∞¶‡∞ø/‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø)",
    nights: "‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡±Å‡∞≤‡±Å",
    pplRoom: "‡∞í‡∞ï ‡∞ó‡∞¶‡∞ø‡∞≤‡±ã ‡∞µ‡±ç‡∞Ø‡∞ï‡±ç‡∞§‡±Å‡∞≤‡±Å",
    calc: "‡∞≤‡±Ü‡∞ï‡±ç‡∞ï‡∞ø‡∞Ç‡∞ö‡±Å",
    route: "‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞Ç ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡±Å",
    weatherTitle: "‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç",
    resultTitle: "‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£ ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å",
    loginTitle: "‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç",
  },
  ta: {
    from: "‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ",
    via: "‡Æµ‡Æ¥‡Æø‡ÆØ‡Ææ‡Æï (‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç)",
    to: "‡Æµ‡Æ∞‡Øà",
    distance: "‡Æ§‡ØÇ‡Æ∞‡ÆÆ‡Øç (‡Æï‡Æø‡ÆÆ‡ØÄ)",
    mileage: "‡ÆÆ‡Øà‡Æ≤‡Øá‡Æú‡Øç (‡Æï‡Æø‡ÆÆ‡ØÄ/‡Æ≤‡Æø)",
    fuel: "‡Æé‡Æ∞‡Æø‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ≥‡Øç ‡Æµ‡Æø‡Æ≤‡Øà (‚Çπ/‡Æ≤‡Æø)",
    toll: "‡Æö‡ØÅ‡Æô‡Øç‡Æï‡ÆÆ‡Øç (‚Çπ/‡Æï‡Æø‡ÆÆ‡ØÄ)",
    food: "‡Æâ‡Æ£‡Æµ‡ØÅ (‚Çπ ‡Æ®‡Æ™‡Æ∞‡Øç/‡Æ®‡Ææ‡Æ≥‡Øç)",
    extras: "‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Øç ‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ",
    travellers: "‡Æ™‡ÆØ‡Æ£‡Æø‡Æï‡Æ≥‡Øç",
    hotelRate: "‡Æπ‡Øã‡Æü‡Øç‡Æü‡Æ≤‡Øç ‡Æµ‡Æø‡Æ≤‡Øà (‚Çπ ‡ÆÖ‡Æ±‡Øà/‡Æá‡Æ∞‡Øà‡Æµ‡ØÅ)",
    nights: "‡Æá‡Æ∞‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç",
    pplRoom: "‡Æí‡Æ∞‡ØÅ ‡ÆÖ‡Æ±‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ™‡Øá‡Æ∞‡Øç",
    calc: "‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æü‡ØÅ",
    route: "‡Æ™‡Ææ‡Æ§‡Øà ‡Æï‡Ææ‡Æ£‡Øç‡Æï",
    weatherTitle: "‡Æµ‡Ææ‡Æ©‡Æø‡Æ≤‡Øà",
    resultTitle: "‡Æ™‡ÆØ‡Æ£‡ÆÆ‡Øç ‡Æö‡ØÅ‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ÆÆ‡Øç",
    loginTitle: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà",
  },
  kn: {
    from: "‡≤®‡≤ø‡≤Ç‡≤¶",
    via: "‡≤Æ‡≥Ç‡≤≤‡≤ï (‡≤ê‡≤ö‡≥ç‡≤õ‡≤ø‡≤ï)",
    to: "‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
    distance: "‡≤¶‡≥Ç‡≤∞ (‡≤ï‡≤ø‡≤Æ‡≥Ä)",
    mileage: "‡≤Æ‡≥à‡≤≤‡≥á‡≤ú‡≥ç (‡≤ï‡≤ø‡≤Æ‡≥Ä/‡≤≤‡≥Ä)",
    fuel: "‡≤á‡≤Ç‡≤ß‡≤® ‡≤¨‡≥Ü‡≤≤‡≥Ü (‚Çπ/‡≤≤‡≥Ä)",
    toll: "‡≤ü‡≥ã‡≤≤‡≥ç (‚Çπ/‡≤ï‡≤ø‡≤Æ‡≥Ä)",
    food: "‡≤Ü‡≤π‡≤æ‡≤∞ (‚Çπ ‡≤µ‡≥ç‡≤Ø‡≤ï‡≥ç‡≤§‡≤ø/‡≤¶‡≤ø‡≤®)",
    extras: "‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤∞‡≤ø ‡≤µ‡≥Ü‡≤ö‡≥ç‡≤ö",
    travellers: "‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£‡≤ø‡≤ï‡≤∞‡≥Å",
    hotelRate: "‡≤π‡≥ã‡≤ü‡≥Ü‡≤≤‡≥ç ‡≤¶‡≤∞ (‚Çπ ‡≤ï‡≥ã‡≤£‡≥Ü/‡≤∞‡≤æ‡≤§‡≥ç‡≤∞‡≤ø)",
    nights: "‡≤∞‡≤æ‡≤§‡≥ç‡≤∞‡≤ø‡≤ó‡≤≥‡≥Å",
    pplRoom: "‡≤í‡≤Ç‡≤¶‡≥Å ‡≤ï‡≥ã‡≤£‡≥Ü‡≤ó‡≥Ü ‡≤ú‡≤®‡≤∞‡≥Å",
    calc: "‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø",
    route: "‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ó ‡≤®‡≥ã‡≤°‡≤ø",
    weatherTitle: "‡≤π‡≤µ‡≤æ‡≤Æ‡≤æ‡≤®",
    resultTitle: "‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£ ‡≤∏‡≤æ‡≤∞‡≤æ‡≤Ç‡≤∂",
    loginTitle: "‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç",
  },
  ml: {
    from: "‡¥®‡¥ø‡¥®‡µç‡¥®‡µç",
    via: "‡¥µ‡¥¥‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø (‡¥ê‡¥ö‡µç‡¥õ‡¥ø‡¥ï‡¥Ç)",
    to: "‡¥µ‡¥∞‡µÜ",
    distance: "‡¥¶‡µÇ‡¥∞‡¥Ç (‡¥ï‡¥ø.‡¥Æ‡µÄ)",
    mileage: "‡¥Æ‡µà‡¥≤‡µá‡¥ú‡µç (‡¥ï‡¥ø.‡¥Æ‡µÄ/‡¥≤‡¥ø)",
    fuel: "‡¥á‡¥®‡µç‡¥ß‡¥®‡¥µ‡¥ø‡¥≤ (‚Çπ/‡¥≤‡¥ø)",
    toll: "‡¥ü‡µã‡µæ (‚Çπ/‡¥ï‡¥ø.‡¥Æ‡µÄ)",
    food: "‡¥≠‡¥ï‡µç‡¥∑‡¥£‡¥Ç (‚Çπ ‡¥µ‡µç‡¥Ø‡¥ï‡µç‡¥§‡¥ø/‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç)",
    extras: "‡¥Ö‡¥ß‡¥ø‡¥ï ‡¥ö‡µÜ‡¥≤‡¥µ‡µç",
    travellers: "‡¥Ø‡¥æ‡¥§‡µç‡¥∞‡¥ï‡µç‡¥ï‡¥æ‡¥∞‡µª‡¥Æ‡¥æ‡µº",
    hotelRate: "‡¥π‡µã‡¥ü‡µç‡¥ü‡µΩ ‡¥®‡¥ø‡¥∞‡¥ï‡µç‡¥ï‡µç (‚Çπ ‡¥Æ‡µÅ‡¥±‡¥ø/‡¥∞‡¥æ‡¥§‡µç‡¥∞‡¥ø)",
    nights: "‡¥∞‡¥æ‡¥§‡µç‡¥∞‡¥ø‡¥ï‡µæ",
    pplRoom: "‡¥í‡¥∞‡µÅ ‡¥Æ‡µÅ‡¥±‡¥ø‡¥Ø‡¥ø‡µΩ ‡¥Ü‡¥≥‡µÅ‡¥ï‡µæ",
    calc: "‡¥ï‡¥£‡¥ï‡µç‡¥ï‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
    route: "‡¥±‡µÇ‡¥ü‡µç‡¥ü‡µç ‡¥ï‡¥£‡µç‡¥ü‡µÜ‡¥§‡µç‡¥§‡µÅ‡¥ï",
    weatherTitle: "‡¥ï‡¥æ‡¥≤‡¥æ‡¥µ‡¥∏‡µç‡¥•",
    resultTitle: "‡¥Ø‡¥æ‡¥§‡µç‡¥∞‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥∏‡¥Ç‡¥ó‡µç‡¥∞‡¥π‡¥Ç",
    loginTitle: "‡¥≤‡µã‡¥ó‡¥ø‡µª",
  },
  mr: {
    from: "‡§™‡§æ‡§∏‡•Ç‡§®",
    via: "‡§Æ‡§æ‡§∞‡•ç‡§ó‡•á (‡§ê‡§ö‡•ç‡§õ‡§ø‡§ï)",
    to: "‡§™‡§∞‡•ç‡§Ø‡§Ç‡§§",
    distance: "‡§Ö‡§Ç‡§§‡§∞ (‡§ï‡§ø.‡§Æ‡•Ä)",
    mileage: "‡§Æ‡§æ‡§Ø‡§≤‡•á‡§ú (‡§ï‡§ø.‡§Æ‡•Ä/‡§≤‡•Ä)",
    fuel: "‡§á‡§Ç‡§ß‡§® ‡§ï‡§ø‡§Ç‡§Æ‡§§ (‚Çπ/‡§≤‡•Ä)",
    toll: "‡§ü‡•ã‡§≤ (‚Çπ/‡§ï‡§ø.‡§Æ‡•Ä)",
    food: "‡§Ö‡§®‡•ç‡§® (‚Çπ ‡§™‡•ç‡§∞‡§§‡§ø ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡•Ä/‡§¶‡§ø‡§µ‡§∏)",
    extras: "‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§",
    travellers: "‡§™‡•ç‡§∞‡§µ‡§æ‡§∏‡•Ä",
    hotelRate: "‡§π‡•â‡§ü‡•á‡§≤ ‡§¶‡§∞ (‚Çπ ‡§ñ‡•ã‡§≤‡•Ä/‡§∞‡§æ‡§§‡•ç‡§∞)",
    nights: "‡§∞‡§æ‡§§‡•ç‡§∞‡§æ",
    pplRoom: "‡§è‡§ï‡§æ ‡§ñ‡•ã‡§≤‡•Ä‡§§ ‡§≤‡•ã‡§ï",
    calc: "‡§π‡§ø‡§∂‡•ã‡§¨ ‡§ï‡§∞‡§æ",
    route: "‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§∂‡•ã‡§ß‡§æ",
    weatherTitle: "‡§π‡§µ‡§æ‡§Æ‡§æ‡§®",
    resultTitle: "‡§™‡•ç‡§∞‡§µ‡§æ‡§∏ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
    loginTitle: "‡§≤‡•â‡§ó‡§ø‡§®",
  },
  gu: {
    from: "‡™•‡´Ä",
    via: "‡™Æ‡™æ‡™∞‡™´‡™§‡´á (‡™µ‡´à‡™ï‡™≤‡´ç‡™™‡™ø‡™ï)",
    to: "‡™∏‡´Å‡™ß‡´Ä",
    distance: "‡™Ö‡™Ç‡™§‡™∞ (‡™ï‡™ø.‡™Æ‡´Ä)",
    mileage: "‡™Æ‡™æ‡™á‡™≤‡´á‡™ú (‡™ï‡™ø.‡™Æ‡´Ä/‡™≤‡´Ä)",
    fuel: "‡™á‡™Ç‡™ß‡™£ ‡™≠‡™æ‡™µ (‚Çπ/‡™≤‡´Ä)",
    toll: "‡™ü‡´ã‡™≤ (‚Çπ/‡™ï‡™ø.‡™Æ‡´Ä)",
    food: "‡™ñ‡´ã‡™∞‡™æ‡™ï (‚Çπ ‡™µ‡´ç‡™Ø‡™ï‡´ç‡™§‡™ø/‡™¶‡™ø‡™µ‡™∏)",
    extras: "‡™µ‡™ß‡™æ‡™∞‡™æ‡™®‡´ã ‡™ñ‡™∞‡´ç‡™ö",
    travellers: "‡™™‡´ç‡™∞‡™µ‡™æ‡™∏‡´Ä‡™ì",
    hotelRate: "‡™π‡´ã‡™ü‡´á‡™≤ ‡™¶‡™∞ (‚Çπ ‡™∞‡´Ç‡™Æ/‡™∞‡™æ‡™§)",
    nights: "‡™∞‡™æ‡™§‡´ã",
    pplRoom: "‡™è‡™ï ‡™∞‡´Ç‡™Æ‡™Æ‡™æ‡™Ç ‡™≤‡´ã‡™ï‡´ã",
    calc: "‡™ó‡™£‡™§‡™∞‡´Ä ‡™ï‡™∞‡´ã",
    route: "‡™Æ‡™æ‡™∞‡´ç‡™ó ‡™∂‡´ã‡™ß‡´ã",
    weatherTitle: "‡™π‡™µ‡™æ‡™Æ‡™æ‡™®",
    resultTitle: "‡™™‡´ç‡™∞‡™µ‡™æ‡™∏ ‡™∏‡™æ‡™∞‡™æ‡™Ç‡™∂",
    loginTitle: "‡™≤‡´â‡™ó‡™ø‡™®",
  },
  bn: {
    from: "‡¶π‡¶§‡ßá",
    via: "‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)",
    to: "‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§",
    distance: "‡¶¶‡ßÇ‡¶∞‡¶§‡ßç‡¶¨ (‡¶ï‡¶ø‡¶Æ‡¶ø)",
    mileage: "‡¶Æ‡¶æ‡¶á‡¶≤‡ßá‡¶ú (‡¶ï‡¶ø‡¶Æ‡¶ø/‡¶≤‡¶ø)",
    fuel: "‡¶ú‡ßç‡¶¨‡¶æ‡¶≤‡¶æ‡¶®‡¶ø ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‚Çπ/‡¶≤‡¶ø)",
    toll: "‡¶ü‡ßã‡¶≤ (‚Çπ/‡¶ï‡¶ø‡¶Æ‡¶ø)",
    food: "‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ (‚Çπ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø/‡¶¶‡¶ø‡¶®)",
    extras: "‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ñ‡¶∞‡¶ö",
    travellers: "‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡ßÄ",
    hotelRate: "‡¶π‡ßã‡¶ü‡ßá‡¶≤ ‡¶∞‡ßá‡¶ü (‚Çπ ‡¶∞‡ßÅ‡¶Æ/‡¶∞‡¶æ‡¶§)",
    nights: "‡¶∞‡¶æ‡¶§",
    pplRoom: "‡¶è‡¶ï ‡¶∞‡ßÅ‡¶Æ‡ßá ‡¶≤‡ßã‡¶ï",
    calc: "‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®",
    route: "‡¶∞‡ßÅ‡¶ü ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®",
    weatherTitle: "‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ",
    resultTitle: "‡¶≠‡ßç‡¶∞‡¶Æ‡¶£ ‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™",
    loginTitle: "‡¶≤‡¶ó‡¶á‡¶®",
  },
  ur: {
    from: "ÿ≥€í",
    via: "⁄©€í ÿ∞ÿ±€åÿπ€í (ÿßÿÆÿ™€åÿßÿ±€å)",
    to: "ÿ™⁄©",
    distance: "ŸÅÿßÿµŸÑ€Å (⁄©ŸÑŸàŸÖ€åŸπÿ±)",
    mileage: "ŸÖÿßÿ¶ŸÑ€åÿ¨ (⁄©ŸÑŸàŸÖ€åŸπÿ±/ŸÑ€åŸπÿ±)",
    fuel: "ÿß€åŸÜÿØ⁄æŸÜ ⁄©€å ŸÇ€åŸÖÿ™ (‚Çπ/ŸÑ€åŸπÿ±)",
    toll: "ŸπŸàŸÑ (‚Çπ/⁄©ŸÑŸàŸÖ€åŸπÿ±)",
    food: "⁄©⁄æÿßŸÜÿß (‚Çπ ŸÅ€å ÿ¥ÿÆÿµ/ÿØŸÜ)",
    extras: "ÿßÿ∂ÿßŸÅ€å ÿÆÿ±⁄Ü",
    travellers: "ŸÖÿ≥ÿßŸÅÿ±",
    hotelRate: "€ÅŸàŸπŸÑ ÿ±€åŸπ (‚Çπ ⁄©ŸÖÿ±€Å/ÿ±ÿßÿ™)",
    nights: "ÿ±ÿßÿ™€å⁄∫",
    pplRoom: "ÿß€å⁄© ⁄©ŸÖÿ±€í ŸÖ€å⁄∫ ŸÑŸà⁄Ø",
    calc: "ÿ≠ÿ≥ÿßÿ® ⁄©ÿ±€å⁄∫",
    route: "ÿ±ÿßÿ≥ÿ™€Å ÿ™ŸÑÿßÿ¥ ⁄©ÿ±€å⁄∫",
    weatherTitle: "ŸÖŸàÿ≥ŸÖ",
    resultTitle: "ÿ≥ŸÅÿ± ⁄©ÿß ÿÆŸÑÿßÿµ€Å",
    loginTitle: "ŸÑÿß⁄Ø ÿßŸÜ",
  }
};

/* ============================================================
   APPLY LANGUAGE FUNCTION
   ============================================================ */
function applyLanguage(lang) {
  const t = translations[lang];

  lblFrom.textContent = t.from;
  lblVia.textContent = t.via;
  lblTo.textContent = t.to;
  lblDistance.textContent = t.distance;
  lblMileage.textContent = t.mileage;
  lblFuel.textContent = t.fuel;
  lblToll.textContent = t.toll;
  lblFood.textContent = t.food;
  lblExtras.textContent = t.extras;
  lblTravellers.textContent = t.travellers;
  lblHotelRate.textContent = t.hotelRate;
  lblNights.textContent = t.nights;
  lblPplRoom.textContent = t.pplRoom;

  calcBtn.textContent = t.calc;
  routeBtn.textContent = t.route;

  weatherTitle.textContent = t.weatherTitle;
  resultTitle.textContent = t.resultTitle;
  loginTitle.textContent = t.loginTitle;
}

/* ============================================================
   FLAG BUTTON LANGUAGE SWITCH
   ============================================================ */
document.querySelectorAll(".flagBtn").forEach(btn => {
  btn.onclick = () => {
    const lang = btn.dataset.lang;
    localStorage.setItem("ycLang", lang);
    applyLanguage(lang);
  };
});

/* ============================================================
   LANGUAGE BUTTONS INSIDE SETTINGS
   ============================================================ */
document.querySelectorAll(".langBtn").forEach(btn => {
  btn.onclick = () => {
    const lang = btn.dataset.lang;
    localStorage.setItem("ycLang", lang);
    applyLanguage(lang);
  };
});

/* ============================================================
   RESTORE LAST USED LANGUAGE
   ============================================================ */
const savedLang = localStorage.getItem("ycLang") || "en";
applyLanguage(savedLang);
/* ============================================================
   PART 5 ‚Äî CURRENCY CONVERSION + FINAL GLUE
   ============================================================ */

/* ---------- AVAILABLE CURRENCIES ---------- */
const currencyRates = {
  INR: 1,
  USD: 0.012,
  EUR: 0.011,
  GBP: 0.0098,
  AED: 0.044
};

const currencySymbols = {
  INR: "‚Çπ",
  USD: "$",
  EUR: "‚Ç¨",
  GBP: "¬£",
  AED: "AED "
};

/* ---------- APPLY CURRENCY FUNCTION ---------- */
function convertValue(inINR) {
  const rate = currencyRates[localStorage.getItem("ycCurrency") || "INR"];
  return (inINR * rate).toFixed(2);
}

/* ---------- UPDATE RESULT BOX WITH CURRENCY ---------- */
function updateResultCurrency() {
  const cur = localStorage.getItem("ycCurrency") || "INR";
  const symbol = currencySymbols[cur];

  let html = resultBox.innerHTML;

  html = html.replace(/‚Çπ([0-9]+)/g, (match, num) => {
    return symbol + convertValue(num);
  });

  resultBox.innerHTML = html;
}

/* --- Trigger currency conversion after calculate() runs --- */
const ORIGINAL_CALC = calculate;
calculate = function () {
  ORIGINAL_CALC();
  updateResultCurrency();
};

/* ============================================================
   CURRENCY MODAL HANDLERS
   ============================================================ */
currencySelect.onchange = () => {
  localStorage.setItem("ycCurrency", currencySelect.value);
  currencyModalSelect.value = currencySelect.value;
  if (resultBox.innerHTML.trim().length > 0) updateResultCurrency();
};

currencyModalSelect.onchange = () => {
  localStorage.setItem("ycCurrency", currencyModalSelect.value);
  currencySelect.value = currencyModalSelect.value;
  if (resultBox.innerHTML.trim().length > 0) updateResultCurrency();
};

const savedCurr = localStorage.getItem("ycCurrency");
if (savedCurr) {
  currencySelect.value = savedCurr;
  currencyModalSelect.value = savedCurr;
}

/* ============================================================
   CLOSE MODALS WHEN CLICK OUTSIDE
   ============================================================ */
window.onclick = (e) => {
  if (e.target === loginModal) loginModal.style.display = "none";
  if (e.target === settingsModal) settingsModal.style.display = "none";
};

/* ============================================================
   FINAL CHECK: LANGUAGE + CURRENCY LOADING
   ============================================================ */
(function initializeFinal() {
  console.log("YatraCost Pro ‚Äî All Parts Loaded Successfully ‚úî");

  // restore language
  const lang = localStorage.getItem("ycLang") || "en";
  applyLanguage(lang);

  // restore currency
  const curr = localStorage.getItem("ycCurrency") || "INR";
  currencySelect.value = curr;
  currencyModalSelect.value = curr;
})();

</script>

</body>
</html>
